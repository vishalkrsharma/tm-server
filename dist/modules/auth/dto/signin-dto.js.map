{"version":3,"sources":["../../../../src/modules/auth/dto/signin-dto.ts"],"sourcesContent":["import {\n  IsEmail,\n  IsNotEmpty,\n  IsOptional,\n  IsString,\n  MinLength,\n  Validate,\n} from 'class-validator';\nimport {\n  ValidatorConstraint,\n  ValidatorConstraintInterface,\n  ValidationArguments,\n} from 'class-validator';\n\n// Custom validator to ensure at least one field (email or username) is provided\n@ValidatorConstraint({ name: 'atLeastOneField', async: false })\nclass AtLeastOneField implements ValidatorConstraintInterface {\n  validate(_: any, args: ValidationArguments) {\n    const { email, username } = args.object as any;\n    return !!email || !!username; // Returns true if at least one of the fields is provided\n  }\n\n  defaultMessage(args: ValidationArguments) {\n    return 'Either email or username must be provided';\n  }\n}\n\nexport class SigninDto {\n  @IsString({ message: 'Email must be a string' })\n  @IsOptional()\n  @IsEmail({}, { message: 'Email must be a valid email address' })\n  email?: string;\n\n  @IsString({ message: 'Username must be a string' })\n  @IsOptional()\n  username?: string;\n\n  @IsString({ message: 'Password must be a string' })\n  @IsNotEmpty({ message: 'Password is required' })\n  @MinLength(4, { message: 'Password must be at least 4 characters long' })\n  password: string;\n\n  @Validate(AtLeastOneField, {\n    message: 'Either email or username must be provided',\n  })\n  validateAtLeastOneField!: boolean;\n}\n"],"names":["SigninDto","AtLeastOneField","validate","_","args","email","username","object","defaultMessage","name","async","message"],"mappings":";;;;+BA2BaA;;;eAAAA;;;gCApBN;;;;;;;;;;AAOP,gFAAgF;AAChF,IAAA,AACMC,kBADN,MACMA;IACJC,SAASC,CAAM,EAAEC,IAAyB,EAAE;QAC1C,MAAM,EAAEC,KAAK,EAAEC,QAAQ,EAAE,GAAGF,KAAKG,MAAM;QACvC,OAAO,CAAC,CAACF,SAAS,CAAC,CAACC,UAAU,yDAAyD;IACzF;IAEAE,eAAeJ,IAAyB,EAAE;QACxC,OAAO;IACT;AACF;;;QAVuBK,MAAM;QAAmBC,OAAO;;;AAYhD,IAAA,AAAMV,YAAN,MAAMA;AAmBb;;;QAlBcW,SAAS;;;;QAENA,SAAS;;;;;;QAGZA,SAAS;;;;;;;QAITA,SAAS;;;QACPA,SAAS;;;QACPA,SAAS;;;;;;QAIvBA,SAAS"}